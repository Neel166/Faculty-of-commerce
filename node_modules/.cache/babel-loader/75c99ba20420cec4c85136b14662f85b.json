{"ast":null,"code":"/*!\n * Evo Calendar - Simple and Modern-looking Event Calendar Plugin\n *\n * Licensed under the MIT License\n * \n * Version: 1.1.3\n * Author: Edlyn Villegas\n * Docs: https://edlynvillegas.github.com/evo-calendar\n * Repo: https://github.com/edlynvillegas/evo-calendar\n * Issues: https://github.com/edlynvillegas/evo-calendar/issues\n * \n */\n;\n\n(function (factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    define(['jquery'], factory);\n  } else if (typeof exports !== 'undefined') {\n    module.exports = factory(require('jquery'));\n  } else {\n    factory(jQuery);\n  }\n})(function ($) {\n  'use strict';\n\n  var EvoCalendar = window.EvoCalendar || {};\n\n  EvoCalendar = function () {\n    var instanceUid = 0;\n\n    function EvoCalendar(element, settings) {\n      var _ = this;\n\n      _.defaults = {\n        theme: null,\n        format: 'mm/dd/yyyy',\n        titleFormat: 'MM yyyy',\n        eventHeaderFormat: 'MM d, yyyy',\n        firstDayOfWeek: 0,\n        language: 'en',\n        todayHighlight: false,\n        sidebarDisplayDefault: true,\n        sidebarToggler: true,\n        eventDisplayDefault: true,\n        eventListToggler: true,\n        calendarEvents: null\n      };\n      _.options = $.extend({}, _.defaults, settings);\n      _.initials = {\n        default_class: $(element)[0].classList.value,\n        validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,\n        dates: {\n          en: {\n            days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n            daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n            daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n            months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n            monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n            noEventForToday: \"No event for today.. so take a rest! :)\",\n            noEventForThisDay: \"No event for this day.. so take a rest! :)\",\n            previousYearText: \"Previous year\",\n            nextYearText: \"Next year\",\n            closeSidebarText: \"Close sidebar\",\n            closeEventListText: \"Close event list\"\n          },\n          es: {\n            days: [\"Domingo\", \"Lunes\", \"Martes\", \"Miércoles\", \"Jueves\", \"Viernes\", \"Sábado\"],\n            daysShort: [\"Dom\", \"Lun\", \"Mar\", \"Mié\", \"Jue\", \"Vie\", \"Sáb\"],\n            daysMin: [\"Do\", \"Lu\", \"Ma\", \"Mi\", \"Ju\", \"Vi\", \"Sa\"],\n            months: [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"],\n            monthsShort: [\"Ene\", \"Feb\", \"Mar\", \"Abr\", \"May\", \"Jun\", \"Jul\", \"Ago\", \"Sep\", \"Oct\", \"Nov\", \"Dic\"],\n            noEventForToday: \"No hay evento para hoy.. ¡así que descanse! :)\",\n            noEventForThisDay: \"Ningún evento para este día.. ¡así que descanse! :)\",\n            previousYearText: \"Año anterior\",\n            nextYearText: \"El próximo año\",\n            closeSidebarText: \"Cerrar la barra lateral\",\n            closeEventListText: \"Cerrar la lista de eventos\"\n          },\n          de: {\n            days: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n            daysShort: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n            daysMin: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n            months: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n            monthsShort: [\"Jan\", \"Feb\", \"Mär\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n            noEventForToday: \"Keine Veranstaltung für heute.. also ruhen Sie sich aus! :)\",\n            noEventForThisDay: \"Keine Veranstaltung für diesen Tag.. also ruhen Sie sich aus! :)\",\n            previousYearText: \"Vorheriges Jahr\",\n            nextYearText: \"Nächstes Jahr\",\n            closeSidebarText: \"Schließen Sie die Seitenleiste\",\n            closeEventListText: \"Schließen Sie die Ereignisliste\"\n          },\n          pt: {\n            days: [\"Domingo\", \"Segunda-Feira\", \"Terça-Feira\", \"Quarta-Feira\", \"Quinta-Feira\", \"Sexta-Feira\", \"Sábado\"],\n            daysShort: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\"],\n            daysMin: [\"Do\", \"2a\", \"3a\", \"4a\", \"5a\", \"6a\", \"Sa\"],\n            months: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n            monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n            noEventForToday: \"Nenhum evento para hoje.. então descanse! :)\",\n            noEventForThisDay: \"Nenhum evento para este dia.. então descanse! :)\",\n            previousYearText: \"Ano anterior\",\n            nextYearText: \"Próximo ano\",\n            closeSidebarText: \"Feche a barra lateral\",\n            closeEventListText: \"Feche a lista de eventos\"\n          },\n          fr: {\n            days: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\n            daysShort: [\"Dim\", \"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\"],\n            daysMin: [\"Di\", \"Lu\", \"Ma\", \"Me\", \"Je\", \"Ve\", \"Sa\"],\n            months: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\", \"Décembre\"],\n            monthsShort: [\"Jan\", \"Fév\", \"Mar\", \"Avr\", \"Mai\", \"Juin\", \"Juil\", \"Août\", \"Sept\", \"Oct\", \"Nov\", \"Déc\"],\n            noEventForToday: \"Rien pour aujourd'hui... Belle journée :)\",\n            noEventForThisDay: \"Rien pour ce jour-ci... Profite de te réposer :)\",\n            previousYearText: \"Année précédente\",\n            nextYearText: \"L'année prochaine\",\n            closeSidebarText: \"Fermez la barre latérale\",\n            closeEventListText: \"Fermer la liste des événements\"\n          },\n          nl: {\n            days: [\"Zondag\", \"Maandag\", \"Dinsdag\", \"Woensdag\", \"Donderdag\", \"Vrijdag\", \"Zaterdag\"],\n            daysShort: [\"Zon\", \"Maan\", \"Din\", \"Woe\", \"Don\", \"Vrij\", \"Zat\"],\n            daysMin: [\"Zo\", \"Ma\", \"Di\", \"Wo\", \"Do\", \"Vr\", \"Za\"],\n            months: [\"Januari\", \"Februari\", \"Maart\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Augustus\", \"September\", \"Oktober\", \"November\", \"December\"],\n            monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\n            noEventForToday: \"Geen event voor vandaag.. dus rust even uit! :)\",\n            noEventForThisDay: \"Geen event voor deze dag.. dus rust even uit! :)\",\n            previousYearText: \"Vorig jaar\",\n            nextYearText: \"Volgend jaar\",\n            closeSidebarText: \"Sluit de zijbalk\",\n            closeEventListText: \"Sluit de event lijst\"\n          },\n          id: {\n            days: [\"Minggu\", \"Senin\", \"Selasa\", \"Rabu\", \"Kamis\", \"Jumat\", \"Sabtu\"],\n            daysShort: [\"Min\", \"Sen\", \"Sel\", \"Rab\", \"Kam\", \"Jum\", \"Sab\"],\n            daysMin: [\"Mi\", \"Sn\", \"Sl\", \"Ra\", \"Ka\", \"Ju\", \"Sa\"],\n            months: [\"Januari\", \"Februari\", \"Maret\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Agustus\", \"September\", \"Oktober\", \"November\", \"Desember\"],\n            monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Agu\", \"Sep\", \"Okt\", \"Nov\", \"Des\"],\n            noEventForToday: \"Tidak ada Acara untuk Sekarang.. Jadi Beristirahatlah! :)\",\n            noEventForThisDay: \"Tidak ada Acara untuk Hari Ini.. Jadi Beristirahatlah! :)\",\n            previousYearText: \"Tahun Sebelumnya\",\n            nextYearText: \"Tahun Berikutnya\",\n            closeSidebarText: \"Tutup Sidebar\",\n            closeEventListText: \"Tutup Daftar Acara\"\n          }\n        }\n      };\n      _.initials.weekends = {\n        sun: _.initials.dates[_.options.language].daysShort[0],\n        sat: _.initials.dates[_.options.language].daysShort[6]\n      }; // Format Calendar Events into selected format\n\n      if (_.options.calendarEvents != null) {\n        for (var i = 0; i < _.options.calendarEvents.length; i++) {\n          // If event doesn't have an id, throw an error message\n          if (!_.options.calendarEvents[i].id) {\n            console.log(\"%c Event named: \\\"\" + _.options.calendarEvents[i].name + \"\\\" doesn't have a unique ID \", \"color:white;font-weight:bold;background-color:#e21d1d;\");\n          }\n\n          if (_.isValidDate(_.options.calendarEvents[i].date)) {\n            _.options.calendarEvents[i].date = _.formatDate(_.options.calendarEvents[i].date, _.options.format);\n          }\n        }\n      } // Global variables\n\n\n      _.startingDay = null;\n      _.monthLength = null;\n      _.windowW = $(window).width(); // CURRENT\n\n      _.$current = {\n        month: isNaN(this.month) || this.month == null ? new Date().getMonth() : this.month,\n        year: isNaN(this.year) || this.year == null ? new Date().getFullYear() : this.year,\n        date: _.formatDate(_.initials.dates[_.defaults.language].months[new Date().getMonth()] + ' ' + new Date().getDate() + ' ' + new Date().getFullYear(), _.options.format)\n      }; // ACTIVE\n\n      _.$active = {\n        month: _.$current.month,\n        year: _.$current.year,\n        date: _.$current.date,\n        event_date: _.$current.date,\n        events: []\n      }; // LABELS\n\n      _.$label = {\n        days: [],\n        months: _.initials.dates[_.defaults.language].months,\n        days_in_month: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n      }; // HTML Markups (template)\n\n      _.$markups = {\n        calendarHTML: '',\n        mainHTML: '',\n        sidebarHTML: '',\n        eventHTML: ''\n      }; // HTML DOM elements\n\n      _.$elements = {\n        calendarEl: $(element),\n        innerEl: null,\n        sidebarEl: null,\n        eventEl: null,\n        sidebarToggler: null,\n        eventListToggler: null,\n        activeDayEl: null,\n        activeMonthEl: null,\n        activeYearEl: null\n      };\n      _.$breakpoints = {\n        tablet: 768,\n        mobile: 425\n      };\n      _.$UI = {\n        hasSidebar: true,\n        hasEvent: true\n      };\n      _.formatDate = $.proxy(_.formatDate, _);\n      _.selectDate = $.proxy(_.selectDate, _);\n      _.selectMonth = $.proxy(_.selectMonth, _);\n      _.selectYear = $.proxy(_.selectYear, _);\n      _.selectEvent = $.proxy(_.selectEvent, _);\n      _.toggleSidebar = $.proxy(_.toggleSidebar, _);\n      _.toggleEventList = $.proxy(_.toggleEventList, _);\n      _.instanceUid = instanceUid++;\n\n      _.init(true);\n    }\n\n    return EvoCalendar;\n  }(); // v1.0.0 - Initialize plugin\n\n\n  EvoCalendar.prototype.init = function (init) {\n    var _ = this;\n\n    if (!$(_.$elements.calendarEl).hasClass('calendar-initialized')) {\n      $(_.$elements.calendarEl).addClass('evo-calendar calendar-initialized');\n\n      if (_.windowW <= _.$breakpoints.tablet) {\n        // tablet/mobile\n        _.toggleSidebar(false);\n\n        _.toggleEventList(false);\n      } else {\n        if (!_.options.sidebarDisplayDefault) _.toggleSidebar(false);else _.toggleSidebar(true);\n        if (!_.options.eventDisplayDefault) _.toggleEventList(false);else _.toggleEventList(true);\n      }\n\n      if (_.options.theme) _.setTheme(_.options.theme); // set calendar theme\n\n      _.buildTheBones(); // start building the calendar components\n\n    }\n  }; // v1.0.0 - Destroy plugin\n\n\n  EvoCalendar.prototype.destroy = function () {\n    var _ = this; // code here\n\n\n    _.destroyEventListener();\n\n    if (_.$elements.calendarEl) {\n      _.$elements.calendarEl.removeClass('calendar-initialized');\n\n      _.$elements.calendarEl.removeClass('evo-calendar');\n\n      _.$elements.calendarEl.removeClass('sidebar-hide');\n\n      _.$elements.calendarEl.removeClass('event-hide');\n    }\n\n    _.$elements.calendarEl.empty();\n\n    _.$elements.calendarEl.attr('class', _.initials.default_class);\n\n    $(_.$elements.calendarEl).trigger(\"destroy\", [_]);\n  }; // v1.0.0 - Limit title (...)\n\n\n  EvoCalendar.prototype.limitTitle = function (title, limit) {\n    var newTitle = [];\n    limit = limit === undefined ? 18 : limit;\n\n    if (title.split(' ').join('').length > limit) {\n      var t = title.split(' ');\n\n      for (var i = 0; i < t.length; i++) {\n        if (t[i].length + newTitle.join('').length <= limit) {\n          newTitle.push(t[i]);\n        }\n      }\n\n      return newTitle.join(' ') + '...';\n    }\n\n    return title;\n  }; // v1.1.2 - Check and filter strings\n\n\n  EvoCalendar.prototype.stringCheck = function (d) {\n    return d.replace(/[^\\w]/g, '\\\\$&');\n  }; // v1.0.0 - Parse format (date)\n\n\n  EvoCalendar.prototype.parseFormat = function (format) {\n    var _ = this;\n\n    if (typeof format.toValue === 'function' && typeof format.toDisplay === 'function') return format; // IE treats \\0 as a string end in inputs (truncating the value),\n    // so it's a bad format delimiter, anyway\n\n    var separators = format.replace(_.initials.validParts, '\\0').split('\\0'),\n        parts = format.match(_.initials.validParts);\n\n    if (!separators || !separators.length || !parts || parts.length === 0) {\n      console.log(\"%c Invalid date format \", \"color:white;font-weight:bold;background-color:#e21d1d;\");\n    }\n\n    return {\n      separators: separators,\n      parts: parts\n    };\n  }; // v1.0.0 - Format date\n\n\n  EvoCalendar.prototype.formatDate = function (date, format, language) {\n    var _ = this;\n\n    if (!date) return '';\n    language = language ? language : _.defaults.language;\n    if (typeof format === 'string') format = _.parseFormat(format);\n    if (format.toDisplay) return format.toDisplay(date, format, language);\n    var ndate = new Date(date); // if (!_.isValidDate(ndate)) { // test\n    //     ndate = new Date(date.replace(/-/g, '/'))\n    // }\n\n    var val = {\n      d: ndate.getDate(),\n      D: _.initials.dates[language].daysShort[ndate.getDay()],\n      DD: _.initials.dates[language].days[ndate.getDay()],\n      m: ndate.getMonth() + 1,\n      M: _.initials.dates[language].monthsShort[ndate.getMonth()],\n      MM: _.initials.dates[language].months[ndate.getMonth()],\n      yy: ndate.getFullYear().toString().substring(2),\n      yyyy: ndate.getFullYear()\n    };\n    val.dd = (val.d < 10 ? '0' : '') + val.d;\n    val.mm = (val.m < 10 ? '0' : '') + val.m;\n    date = [];\n    var seps = $.extend([], format.separators);\n\n    for (var i = 0, cnt = format.parts.length; i <= cnt; i++) {\n      if (seps.length) date.push(seps.shift());\n      date.push(val[format.parts[i]]);\n    }\n\n    return date.join('');\n  }; // v1.0.0 - Get dates between two dates\n\n\n  EvoCalendar.prototype.getBetweenDates = function (dates) {\n    var _ = this,\n        betweenDates = [];\n\n    for (var x = 0; x < _.monthLength; x++) {\n      var active_date = _.formatDate(_.$label.months[_.$active.month] + ' ' + (x + 1) + ' ' + _.$active.year, _.options.format);\n\n      if (_.isBetweenDates(active_date, dates)) {\n        betweenDates.push(active_date);\n      }\n    }\n\n    return betweenDates;\n  }; // v1.0.0 - Check if date is between the passed calendar date \n\n\n  EvoCalendar.prototype.isBetweenDates = function (active_date, dates) {\n    var sd, ed;\n\n    if (dates instanceof Array) {\n      sd = new Date(dates[0]);\n      ed = new Date(dates[1]);\n    } else {\n      sd = new Date(dates);\n      ed = new Date(dates);\n    }\n\n    if (sd <= new Date(active_date) && ed >= new Date(active_date)) {\n      return true;\n    }\n\n    return false;\n  }; // v1.0.0 - Check if event has the same event type in the same date\n\n\n  EvoCalendar.prototype.hasSameDayEventType = function (date, type) {\n    var _ = this,\n        eventLength = 0;\n\n    for (var i = 0; i < _.options.calendarEvents.length; i++) {\n      if (_.options.calendarEvents[i].date instanceof Array) {\n        var arr = _.getBetweenDates(_.options.calendarEvents[i].date);\n\n        for (var x = 0; x < arr.length; x++) {\n          if (date === arr[x] && type === _.options.calendarEvents[i].type) {\n            eventLength++;\n          }\n        }\n      } else {\n        if (date === _.options.calendarEvents[i].date && type === _.options.calendarEvents[i].type) {\n          eventLength++;\n        }\n      }\n    }\n\n    if (eventLength > 0) {\n      return true;\n    }\n\n    return false;\n  }; // v1.0.0 - Set calendar theme\n\n\n  EvoCalendar.prototype.setTheme = function (themeName) {\n    var _ = this;\n\n    var prevTheme = _.options.theme;\n    _.options.theme = themeName.toLowerCase().split(' ').join('-');\n    if (_.options.theme) $(_.$elements.calendarEl).removeClass(prevTheme);\n    if (_.options.theme !== 'default') $(_.$elements.calendarEl).addClass(_.options.theme);\n  }; // v1.0.0 - Called in every resize\n\n\n  EvoCalendar.prototype.resize = function () {\n    var _ = this;\n\n    _.windowW = $(window).width();\n\n    if (_.windowW <= _.$breakpoints.tablet) {\n      // tablet\n      _.toggleSidebar(false);\n\n      _.toggleEventList(false);\n\n      if (_.windowW <= _.$breakpoints.mobile) {\n        // mobile\n        $(window).off('click.evocalendar.evo-' + _.instanceUid);\n      } else {\n        $(window).on('click.evocalendar.evo-' + _.instanceUid, $.proxy(_.toggleOutside, _));\n      }\n    } else {\n      if (!_.options.sidebarDisplayDefault) _.toggleSidebar(false);else _.toggleSidebar(true);\n      if (!_.options.eventDisplayDefault) _.toggleEventList(false);else _.toggleEventList(true);\n      $(window).off('click.evocalendar.evo-' + _.instanceUid);\n    }\n  }; // v1.0.0 - Initialize event listeners\n\n\n  EvoCalendar.prototype.initEventListener = function () {\n    var _ = this; // resize\n\n\n    $(window).off('resize.evocalendar.evo-' + _.instanceUid).on('resize.evocalendar.evo-' + _.instanceUid, $.proxy(_.resize, _)); // IF sidebarToggler: set event listener: toggleSidebar\n\n    if (_.options.sidebarToggler) {\n      _.$elements.sidebarToggler.off('click.evocalendar').on('click.evocalendar', _.toggleSidebar);\n    } // IF eventListToggler: set event listener: toggleEventList\n\n\n    if (_.options.eventListToggler) {\n      _.$elements.eventListToggler.off('click.evocalendar').on('click.evocalendar', _.toggleEventList);\n    } // set event listener for each month\n\n\n    _.$elements.sidebarEl.find('[data-month-val]').off('click.evocalendar').on('click.evocalendar', _.selectMonth); // set event listener for year\n\n\n    _.$elements.sidebarEl.find('[data-year-val]').off('click.evocalendar').on('click.evocalendar', _.selectYear); // set event listener for every event listed\n\n\n    _.$elements.eventEl.find('[data-event-index]').off('click.evocalendar').on('click.evocalendar', _.selectEvent);\n  }; // v1.0.0 - Destroy event listeners\n\n\n  EvoCalendar.prototype.destroyEventListener = function () {\n    var _ = this;\n\n    $(window).off('resize.evocalendar.evo-' + _.instanceUid);\n    $(window).off('click.evocalendar.evo-' + _.instanceUid); // IF sidebarToggler: remove event listener: toggleSidebar\n\n    if (_.options.sidebarToggler) {\n      _.$elements.sidebarToggler.off('click.evocalendar');\n    } // IF eventListToggler: remove event listener: toggleEventList\n\n\n    if (_.options.eventListToggler) {\n      _.$elements.eventListToggler.off('click.evocalendar');\n    } // remove event listener for each day\n\n\n    _.$elements.innerEl.find('.calendar-day').children().off('click.evocalendar'); // remove event listener for each month\n\n\n    _.$elements.sidebarEl.find('[data-month-val]').off('click.evocalendar'); // remove event listener for year\n\n\n    _.$elements.sidebarEl.find('[data-year-val]').off('click.evocalendar'); // remove event listener for every event listed\n\n\n    _.$elements.eventEl.find('[data-event-index]').off('click.evocalendar');\n  }; // v1.0.0 - Calculate days (incl. monthLength, startingDays based on :firstDayOfWeekName)\n\n\n  EvoCalendar.prototype.calculateDays = function () {\n    var _ = this,\n        nameDays,\n        weekStart,\n        firstDay;\n\n    _.monthLength = _.$label.days_in_month[_.$active.month]; // find number of days in month\n\n    if (_.$active.month == 1) {\n      // compensate for leap year - february only!\n      if (_.$active.year % 4 == 0 && _.$active.year % 100 != 0 || _.$active.year % 400 == 0) {\n        _.monthLength = 29;\n      }\n    }\n\n    nameDays = _.initials.dates[_.options.language].daysShort;\n    weekStart = _.options.firstDayOfWeek;\n\n    while (_.$label.days.length < nameDays.length) {\n      if (weekStart == nameDays.length) {\n        weekStart = 0;\n      }\n\n      _.$label.days.push(nameDays[weekStart]);\n\n      weekStart++;\n    }\n\n    firstDay = new Date(_.$active.year, _.$active.month).getDay() - weekStart;\n    _.startingDay = firstDay < 0 ? _.$label.days.length + firstDay : firstDay;\n  }; // v1.0.0 - Build the bones! (incl. sidebar, inner, events), called once in every initialization\n\n\n  EvoCalendar.prototype.buildTheBones = function () {\n    var _ = this;\n\n    _.calculateDays();\n\n    if (!_.$elements.calendarEl.html()) {\n      var markup; // --- BUILDING MARKUP BEGINS --- //\n      // sidebar\n\n      markup = '<div class=\"calendar-sidebar\">' + '<div class=\"calendar-year\">' + '<button class=\"icon-button\" role=\"button\" data-year-val=\"prev\" title=\"' + _.initials.dates[_.options.language].previousYearText + '\">' + '<span class=\"chevron-arrow-left\"></span>' + '</button>' + '&nbsp;<p></p>&nbsp;' + '<button class=\"icon-button\" role=\"button\" data-year-val=\"next\" title=\"' + _.initials.dates[_.options.language].nextYearText + '\">' + '<span class=\"chevron-arrow-right\"></span>' + '</button>' + '</div><div class=\"month-list\">' + '<ul class=\"calendar-months\">';\n\n      for (var i = 0; i < _.$label.months.length; i++) {\n        markup += '<li class=\"month\" role=\"button\" data-month-val=\"' + i + '\">' + _.initials.dates[_.options.language].months[i] + '</li>';\n      }\n\n      markup += '</ul>';\n      markup += '</div></div>'; // inner\n\n      markup += '<div class=\"calendar-inner\">' + '<table class=\"calendar-table\">' + '<tr><th colspan=\"7\"></th></tr>' + '<tr class=\"calendar-header\">';\n\n      for (var i = 0; i < _.$label.days.length; i++) {\n        var headerClass = \"calendar-header-day\";\n\n        if (_.$label.days[i] === _.initials.weekends.sat || _.$label.days[i] === _.initials.weekends.sun) {\n          headerClass += ' --weekend';\n        }\n\n        markup += '<td class=\"' + headerClass + '\">' + _.$label.days[i] + '</td>';\n      }\n\n      markup += '</tr></table>' + '</div>'; // events\n\n      markup += '<div class=\"calendar-events\">' + '<div class=\"event-header\"><p></p></div>' + '<div class=\"event-list\"></div>' + '</div>'; // --- Finally, build it now! --- //\n\n      _.$elements.calendarEl.html(markup);\n\n      if (!_.$elements.sidebarEl) _.$elements.sidebarEl = $(_.$elements.calendarEl).find('.calendar-sidebar');\n      if (!_.$elements.innerEl) _.$elements.innerEl = $(_.$elements.calendarEl).find('.calendar-inner');\n      if (!_.$elements.eventEl) _.$elements.eventEl = $(_.$elements.calendarEl).find('.calendar-events'); // if: _.options.sidebarToggler\n\n      if (_.options.sidebarToggler) {\n        $(_.$elements.sidebarEl).append('<span id=\"sidebarToggler\" role=\"button\" aria-pressed title=\"' + _.initials.dates[_.options.language].closeSidebarText + '\"><button class=\"icon-button\"><span class=\"bars\"></span></button></span>');\n        if (!_.$elements.sidebarToggler) _.$elements.sidebarToggler = $(_.$elements.sidebarEl).find('span#sidebarToggler');\n      }\n\n      if (_.options.eventListToggler) {\n        $(_.$elements.calendarEl).append('<span id=\"eventListToggler\" role=\"button\" aria-pressed title=\"' + _.initials.dates[_.options.language].closeEventListText + '\"><button class=\"icon-button\"><span class=\"chevron-arrow-right\"></span></button></span>');\n        if (!_.$elements.eventListToggler) _.$elements.eventListToggler = $(_.$elements.calendarEl).find('span#eventListToggler');\n      }\n    }\n\n    _.buildSidebarYear();\n\n    _.buildSidebarMonths();\n\n    _.buildCalendar();\n\n    _.buildEventList();\n\n    _.initEventListener(); // test\n\n\n    _.resize();\n  }; // v1.0.0 - Build Event: Event list\n\n\n  EvoCalendar.prototype.buildEventList = function () {\n    var _ = this,\n        markup,\n        hasEventToday = false;\n\n    _.$active.events = []; // Event date\n\n    var title = _.formatDate(_.$active.date, _.options.eventHeaderFormat, _.options.language);\n\n    _.$elements.eventEl.find('.event-header > p').text(title); // Event list\n\n\n    var eventListEl = _.$elements.eventEl.find('.event-list'); // Clear event list item(s)\n\n\n    if (eventListEl.children().length > 0) eventListEl.empty();\n\n    if (_.options.calendarEvents) {\n      for (var i = 0; i < _.options.calendarEvents.length; i++) {\n        if (_.isBetweenDates(_.$active.date, _.options.calendarEvents[i].date)) {\n          eventAdder(_.options.calendarEvents[i]);\n        } else if (_.options.calendarEvents[i].everyYear) {\n          var d = new Date(_.$active.date).getMonth() + 1 + ' ' + new Date(_.$active.date).getDate();\n          var dd = new Date(_.options.calendarEvents[i].date).getMonth() + 1 + ' ' + new Date(_.options.calendarEvents[i].date).getDate(); // var dates = [_.formatDate(_.options.calendarEvents[i].date[0], 'mm/dd'), _.formatDate(_.options.calendarEvents[i].date[1], 'mm/dd')];\n\n          if (d == dd) {\n            eventAdder(_.options.calendarEvents[i]);\n          }\n        }\n      }\n\n      ;\n    }\n\n    function eventAdder(event) {\n      hasEventToday = true;\n\n      _.addEventList(event);\n    } // IF: no event for the selected date\n\n\n    if (!hasEventToday) {\n      markup = '<div class=\"event-empty\">';\n\n      if (_.$active.date === _.$current.date) {\n        markup += '<p>' + _.initials.dates[_.options.language].noEventForToday + '</p>';\n      } else {\n        markup += '<p>' + _.initials.dates[_.options.language].noEventForThisDay + '</p>';\n      }\n\n      markup += '</div>';\n    }\n\n    eventListEl.append(markup);\n  }; // v1.0.0 - Add single event to event list\n\n\n  EvoCalendar.prototype.addEventList = function (event_data) {\n    var _ = this,\n        markup;\n\n    var eventListEl = _.$elements.eventEl.find('.event-list');\n\n    if (eventListEl.find('[data-event-index]').length === 0) eventListEl.empty();\n\n    _.$active.events.push(event_data);\n\n    markup = '<div class=\"event-container\" role=\"button\" data-event-index=\"' + event_data.id + '\">';\n    markup += '<div class=\"event-icon\"><div class=\"event-bullet-' + event_data.type + '\"';\n\n    if (event_data.color) {\n      markup += 'style=\"background-color:' + event_data.color + '\"';\n    }\n\n    markup += '></div></div><div class=\"event-info\"><p class=\"event-title\">' + _.limitTitle(event_data.name);\n    if (event_data.badge) markup += '<span>' + event_data.badge + '</span>';\n    markup += '</p>';\n    if (event_data.description) markup += '<p class=\"event-desc\">' + event_data.description + '</p>';\n    markup += '</div>';\n    markup += '</div>';\n    eventListEl.append(markup);\n\n    _.$elements.eventEl.find('[data-event-index=\"' + event_data.id + '\"]').off('click.evocalendar').on('click.evocalendar', _.selectEvent);\n  }; // v1.0.0 - Remove single event to event list\n\n\n  EvoCalendar.prototype.removeEventList = function (event_data) {\n    var _ = this,\n        markup;\n\n    var eventListEl = _.$elements.eventEl.find('.event-list');\n\n    if (eventListEl.find('[data-event-index=\"' + event_data + '\"]').length === 0) return; // event not in active events\n\n    eventListEl.find('[data-event-index=\"' + event_data + '\"]').remove();\n\n    if (eventListEl.find('[data-event-index]').length === 0) {\n      eventListEl.empty();\n\n      if (_.$active.date === _.$current.date) {\n        markup += '<p>' + _.initials.dates[_.options.language].noEventForToday + '</p>';\n      } else {\n        markup += '<p>' + _.initials.dates[_.options.language].noEventForThisDay + '</p>';\n      }\n\n      eventListEl.append(markup);\n    }\n  }; // v1.0.0 - Build Sidebar: Year text\n\n\n  EvoCalendar.prototype.buildSidebarYear = function () {\n    var _ = this;\n\n    _.$elements.sidebarEl.find('.calendar-year > p').text(_.$active.year);\n  }; // v1.0.0 - Build Sidebar: Months list text\n\n\n  EvoCalendar.prototype.buildSidebarMonths = function () {\n    var _ = this;\n\n    _.$elements.sidebarEl.find('.calendar-months > [data-month-val]').removeClass('active-month');\n\n    _.$elements.sidebarEl.find('.calendar-months > [data-month-val=\"' + _.$active.month + '\"]').addClass('active-month');\n  }; // v1.0.0 - Build Calendar: Title, Days\n\n\n  EvoCalendar.prototype.buildCalendar = function () {\n    var _ = this,\n        markup,\n        title;\n\n    _.calculateDays();\n\n    title = _.formatDate(new Date(_.$label.months[_.$active.month] + ' 1 ' + _.$active.year), _.options.titleFormat, _.options.language);\n\n    _.$elements.innerEl.find('.calendar-table th').text(title);\n\n    _.$elements.innerEl.find('.calendar-body').remove(); // Clear days\n\n\n    markup += '<tr class=\"calendar-body\">';\n    var day = 1;\n\n    for (var i = 0; i < 9; i++) {\n      // this loop is for is weeks (rows)\n      for (var j = 0; j < _.$label.days.length; j++) {\n        // this loop is for weekdays (cells)\n        if (day <= _.monthLength && (i > 0 || j >= _.startingDay)) {\n          var dayClass = \"calendar-day\";\n\n          if (_.$label.days[j] === _.initials.weekends.sat || _.$label.days[j] === _.initials.weekends.sun) {\n            dayClass += ' --weekend'; // add '--weekend' to sat sun\n          }\n\n          markup += '<td class=\"' + dayClass + '\">';\n\n          var thisDay = _.formatDate(_.$label.months[_.$active.month] + ' ' + day + ' ' + _.$active.year, _.options.format);\n\n          markup += '<div class=\"day\" role=\"button\" data-date-val=\"' + thisDay + '\">' + day + '</div>';\n          day++;\n        } else {\n          markup += '<td>';\n        }\n\n        markup += '</td>';\n      }\n\n      if (day > _.monthLength) {\n        break; // stop making rows if we've run out of days\n      } else {\n        markup += '</tr><tr class=\"calendar-body\">'; // add if not\n      }\n    }\n\n    markup += '</tr>';\n\n    _.$elements.innerEl.find('.calendar-table').append(markup);\n\n    if (_.options.todayHighlight) {\n      _.$elements.innerEl.find(\"[data-date-val='\" + _.$current.date + \"']\").addClass('calendar-today');\n    } // set event listener for each day\n\n\n    _.$elements.innerEl.find('.calendar-day').children().off('click.evocalendar').on('click.evocalendar', _.selectDate);\n\n    var selectedDate = _.$elements.innerEl.find(\"[data-date-val='\" + _.$active.date + \"']\");\n\n    if (selectedDate) {\n      // Remove active class to all\n      _.$elements.innerEl.children().removeClass('calendar-active'); // Add active class to selected date\n\n\n      selectedDate.addClass('calendar-active');\n    }\n\n    if (_.options.calendarEvents != null) {\n      // For event indicator (dots)\n      _.buildEventIndicator();\n    }\n  }; // v1.0.0 - Add event indicator/s (dots)\n\n\n  EvoCalendar.prototype.addEventIndicator = function (event) {\n    var _ = this,\n        htmlToAppend,\n        thisDate;\n\n    var event_date = event.date;\n\n    var type = _.stringCheck(event.type);\n\n    if (event_date instanceof Array) {\n      if (event.everyYear) {\n        for (var x = 0; x < event_date.length; x++) {\n          event_date[x] = _.formatDate(new Date(event_date[x]).setFullYear(_.$active.year), _.options.format);\n        }\n      }\n\n      var active_date = _.getBetweenDates(event_date);\n\n      for (var i = 0; i < active_date.length; i++) {\n        appendDot(active_date[i]);\n      }\n    } else {\n      if (event.everyYear) {\n        event_date = _.formatDate(new Date(event_date).setFullYear(_.$active.year), _.options.format);\n      }\n\n      appendDot(event_date);\n    }\n\n    function appendDot(date) {\n      thisDate = _.$elements.innerEl.find('[data-date-val=\"' + date + '\"]');\n\n      if (thisDate.find('span.event-indicator').length === 0) {\n        thisDate.append('<span class=\"event-indicator\"></span>');\n      }\n\n      if (thisDate.find('span.event-indicator > .type-bullet > .type-' + type).length === 0) {\n        htmlToAppend = '<div class=\"type-bullet\"><div ';\n        htmlToAppend += 'class=\"type-' + event.type + '\"';\n\n        if (event.color) {\n          htmlToAppend += 'style=\"background-color:' + event.color + '\"';\n        }\n\n        htmlToAppend += '></div></div>';\n        thisDate.find('.event-indicator').append(htmlToAppend);\n      }\n    }\n  }; // v1.0.0 - Remove event indicator/s (dots)\n\n\n  EvoCalendar.prototype.removeEventIndicator = function (event) {\n    var _ = this;\n\n    var event_date = event.date;\n\n    var type = _.stringCheck(event.type);\n\n    if (event_date instanceof Array) {\n      var active_date = _.getBetweenDates(event_date);\n\n      for (var i = 0; i < active_date.length; i++) {\n        removeDot(active_date[i]);\n      }\n    } else {\n      removeDot(event_date);\n    }\n\n    function removeDot(date) {\n      // Check if no '.event-indicator', 'cause nothing to remove\n      if (_.$elements.innerEl.find('[data-date-val=\"' + date + '\"] span.event-indicator').length === 0) {\n        return;\n      } // // If has no type of event, then delete \n\n\n      if (!_.hasSameDayEventType(date, type)) {\n        _.$elements.innerEl.find('[data-date-val=\"' + date + '\"] span.event-indicator > .type-bullet > .type-' + type).parent().remove();\n      }\n    }\n  };\n  /****************\n  *    METHODS    *\n  ****************/\n  // v1.0.0 - Build event indicator on each date\n\n\n  EvoCalendar.prototype.buildEventIndicator = function () {\n    var _ = this; // prevent duplication\n\n\n    _.$elements.innerEl.find('.calendar-day > day > .event-indicator').empty();\n\n    for (var i = 0; i < _.options.calendarEvents.length; i++) {\n      _.addEventIndicator(_.options.calendarEvents[i]);\n    }\n  }; // v1.0.0 - Select event\n\n\n  EvoCalendar.prototype.selectEvent = function (event) {\n    var _ = this;\n\n    var el = $(event.target).closest('.event-container');\n    var id = $(el).data('eventIndex').toString();\n\n    var index = _.options.calendarEvents.map(function (event) {\n      return event.id.toString();\n    }).indexOf(id);\n\n    var modified_event = _.options.calendarEvents[index];\n\n    if (modified_event.date instanceof Array) {\n      modified_event.dates_range = _.getBetweenDates(modified_event.date);\n    }\n\n    $(_.$elements.calendarEl).trigger(\"selectEvent\", [_.options.calendarEvents[index]]);\n  }; // v1.0.0 - Select year\n\n\n  EvoCalendar.prototype.selectYear = function (event) {\n    var _ = this;\n\n    var el, yearVal;\n\n    if (typeof event === 'string' || typeof event === 'number') {\n      if (parseInt(event).toString().length === 4) {\n        yearVal = parseInt(event);\n      }\n    } else {\n      el = $(event.target).closest('[data-year-val]');\n      yearVal = $(el).data('yearVal');\n    }\n\n    if (yearVal == \"prev\") {\n      --_.$active.year;\n    } else if (yearVal == \"next\") {\n      ++_.$active.year;\n    } else if (typeof yearVal === 'number') {\n      _.$active.year = yearVal;\n    }\n\n    if (_.windowW <= _.$breakpoints.mobile) {\n      if (_.$UI.hasSidebar) _.toggleSidebar(false);\n    }\n\n    $(_.$elements.calendarEl).trigger(\"selectYear\", [_.$active.year]);\n\n    _.buildSidebarYear();\n\n    _.buildCalendar();\n  }; // v1.0.0 - Select month\n\n\n  EvoCalendar.prototype.selectMonth = function (event) {\n    var _ = this;\n\n    if (typeof event === 'string' || typeof event === 'number') {\n      if (event >= 0 && event <= _.$label.months.length) {\n        // if: 0-11\n        _.$active.month = event.toString();\n      }\n    } else {\n      // if month is manually selected\n      _.$active.month = $(event.currentTarget).data('monthVal');\n    }\n\n    _.buildSidebarMonths();\n\n    _.buildCalendar();\n\n    if (_.windowW <= _.$breakpoints.tablet) {\n      if (_.$UI.hasSidebar) _.toggleSidebar(false);\n    } // EVENT FIRED: selectMonth\n\n\n    $(_.$elements.calendarEl).trigger(\"selectMonth\", [_.initials.dates[_.options.language].months[_.$active.month], _.$active.month]);\n  }; // v1.0.0 - Select specific date\n\n\n  EvoCalendar.prototype.selectDate = function (event) {\n    var _ = this;\n\n    var oldDate = _.$active.date;\n    var date, year, month, activeDayEl, isSameDate;\n\n    if (typeof event === 'string' || typeof event === 'number' || event instanceof Date) {\n      date = _.formatDate(new Date(event), _.options.format);\n      year = new Date(date).getFullYear();\n      month = new Date(date).getMonth();\n      if (_.$active.year !== year) _.selectYear(year);\n      if (_.$active.month !== month) _.selectMonth(month);\n      activeDayEl = _.$elements.innerEl.find(\"[data-date-val='\" + date + \"']\");\n    } else {\n      activeDayEl = $(event.currentTarget);\n      date = activeDayEl.data('dateVal');\n    }\n\n    isSameDate = _.$active.date === date; // Set new active date\n\n    _.$active.date = date;\n    _.$active.event_date = date; // Remove active class to all\n\n    _.$elements.innerEl.find('[data-date-val]').removeClass('calendar-active'); // Add active class to selected date\n\n\n    activeDayEl.addClass('calendar-active'); // Build event list if not the same date events built\n\n    if (!isSameDate) _.buildEventList(); // EVENT FIRED: selectDate\n\n    $(_.$elements.calendarEl).trigger(\"selectDate\", [_.$active.date, oldDate]);\n  }; // v1.0.0 - Return active date\n\n\n  EvoCalendar.prototype.getActiveDate = function () {\n    var _ = this;\n\n    return _.$active.date;\n  }; // v1.0.0 - Return active events\n\n\n  EvoCalendar.prototype.getActiveEvents = function () {\n    var _ = this;\n\n    return _.$active.events;\n  }; // v1.0.0 - Hide Sidebar/Event List if clicked outside\n\n\n  EvoCalendar.prototype.toggleOutside = function (event) {\n    var _ = this,\n        isInnerClicked;\n\n    isInnerClicked = event.target === _.$elements.innerEl[0];\n    if (_.$UI.hasSidebar && isInnerClicked) _.toggleSidebar(false);\n    if (_.$UI.hasEvent && isInnerClicked) _.toggleEventList(false);\n  }; // v1.0.0 - Toggle Sidebar\n\n\n  EvoCalendar.prototype.toggleSidebar = function (event) {\n    var _ = this;\n\n    if (event === undefined || event.originalEvent) {\n      $(_.$elements.calendarEl).toggleClass('sidebar-hide');\n      _.$UI.hasSidebar = !_.$UI.hasSidebar;\n    } else {\n      if (event) {\n        $(_.$elements.calendarEl).removeClass('sidebar-hide');\n        _.$UI.hasSidebar = true;\n      } else {\n        $(_.$elements.calendarEl).addClass('sidebar-hide');\n        _.$UI.hasSidebar = false;\n      }\n    }\n\n    if (_.windowW <= _.$breakpoints.tablet) {\n      if (_.$UI.hasSidebar && _.$UI.hasEvent) _.toggleEventList();\n    }\n  }; // v1.0.0 - Toggle Event list\n\n\n  EvoCalendar.prototype.toggleEventList = function (event) {\n    var _ = this;\n\n    if (event === undefined || event.originalEvent) {\n      $(_.$elements.calendarEl).toggleClass('event-hide');\n      _.$UI.hasEvent = !_.$UI.hasEvent;\n    } else {\n      if (event) {\n        $(_.$elements.calendarEl).removeClass('event-hide');\n        _.$UI.hasEvent = true;\n      } else {\n        $(_.$elements.calendarEl).addClass('event-hide');\n        _.$UI.hasEvent = false;\n      }\n    }\n\n    if (_.windowW <= _.$breakpoints.tablet) {\n      if (_.$UI.hasEvent && _.$UI.hasSidebar) _.toggleSidebar();\n    }\n  }; // v1.0.0 - Add Calendar Event(s)\n\n\n  EvoCalendar.prototype.addCalendarEvent = function (arr) {\n    var _ = this;\n\n    function addEvent(data) {\n      if (!data.id) {\n        console.log(\"%c Event named: \\\"\" + data.name + \"\\\" doesn't have a unique ID \", \"color:white;font-weight:bold;background-color:#e21d1d;\");\n      }\n\n      if (data.date instanceof Array) {\n        for (var j = 0; j < data.date.length; j++) {\n          if (isDateValid(data.date[j])) {\n            data.date[j] = _.formatDate(new Date(data.date[j]), _.options.format);\n          }\n        }\n      } else {\n        if (isDateValid(data.date)) {\n          data.date = _.formatDate(new Date(data.date), _.options.format);\n        }\n      }\n\n      if (!_.options.calendarEvents) _.options.calendarEvents = [];\n\n      _.options.calendarEvents.push(data); // add to date's indicator\n\n\n      _.addEventIndicator(data); // add to event list IF active.event_date === data.date\n\n\n      if (_.$active.event_date === data.date) _.addEventList(data); // _.$elements.innerEl.find(\"[data-date-val='\" + data.date + \"']\")\n\n      function isDateValid(date) {\n        if (_.isValidDate(date)) {\n          return true;\n        } else {\n          console.log(\"%c Event named: \\\"\" + data.name + \"\\\" has invalid date \", \"color:white;font-weight:bold;background-color:#e21d1d;\");\n        }\n\n        return false;\n      }\n    }\n\n    if (arr instanceof Array) {\n      // Arrays of events\n      for (var i = 0; i < arr.length; i++) {\n        addEvent(arr[i]);\n      }\n    } else if (typeof arr === 'object') {\n      // Single event\n      addEvent(arr);\n    }\n  }; // v1.0.0 - Remove Calendar Event(s)\n\n\n  EvoCalendar.prototype.removeCalendarEvent = function (arr) {\n    var _ = this;\n\n    function deleteEvent(data) {\n      // Array index\n      var index = _.options.calendarEvents.map(function (event) {\n        return event.id;\n      }).indexOf(data);\n\n      if (index >= 0) {\n        var event = _.options.calendarEvents[index]; // Remove event from calendar events\n\n        _.options.calendarEvents.splice(index, 1); // remove to event list\n\n\n        _.removeEventList(data); // remove event indicator\n\n\n        _.removeEventIndicator(event);\n      } else {\n        console.log(\"%c \" + data + \": ID not found \", \"color:white;font-weight:bold;background-color:#e21d1d;\");\n      }\n    }\n\n    if (arr instanceof Array) {\n      // Arrays of index\n      for (var i = 0; i < arr.length; i++) {\n        deleteEvent(arr[i]);\n      }\n    } else {\n      // Single index\n      deleteEvent(arr);\n    }\n  }; // v1.0.0 - Check if date is valid\n\n\n  EvoCalendar.prototype.isValidDate = function (d) {\n    return new Date(d) && !isNaN(new Date(d).getTime());\n  };\n\n  $.fn.evoCalendar = function () {\n    var _ = this,\n        opt = arguments[0],\n        args = Array.prototype.slice.call(arguments, 1),\n        l = _.length,\n        i,\n        ret;\n\n    for (i = 0; i < l; i++) {\n      if (typeof opt == 'object' || typeof opt == 'undefined') _[i].evoCalendar = new EvoCalendar(_[i], opt);else ret = _[i].evoCalendar[opt].apply(_[i].evoCalendar, args);\n      if (typeof ret != 'undefined') return ret;\n    }\n\n    return _;\n  };\n});","map":{"version":3,"sources":["C:/faculty-of-commerce-website/src/calender/evo-calendar.js"],"names":["factory","define","amd","exports","module","require","jQuery","$","EvoCalendar","window","instanceUid","element","settings","_","defaults","theme","format","titleFormat","eventHeaderFormat","firstDayOfWeek","language","todayHighlight","sidebarDisplayDefault","sidebarToggler","eventDisplayDefault","eventListToggler","calendarEvents","options","extend","initials","default_class","classList","value","validParts","dates","en","days","daysShort","daysMin","months","monthsShort","noEventForToday","noEventForThisDay","previousYearText","nextYearText","closeSidebarText","closeEventListText","es","de","pt","fr","nl","id","weekends","sun","sat","i","length","console","log","name","isValidDate","date","formatDate","startingDay","monthLength","windowW","width","$current","month","isNaN","Date","getMonth","year","getFullYear","getDate","$active","event_date","events","$label","days_in_month","$markups","calendarHTML","mainHTML","sidebarHTML","eventHTML","$elements","calendarEl","innerEl","sidebarEl","eventEl","activeDayEl","activeMonthEl","activeYearEl","$breakpoints","tablet","mobile","$UI","hasSidebar","hasEvent","proxy","selectDate","selectMonth","selectYear","selectEvent","toggleSidebar","toggleEventList","init","prototype","hasClass","addClass","setTheme","buildTheBones","destroy","destroyEventListener","removeClass","empty","attr","trigger","limitTitle","title","limit","newTitle","undefined","split","join","t","push","stringCheck","d","replace","parseFormat","toValue","toDisplay","separators","parts","match","ndate","val","D","getDay","DD","m","M","MM","yy","toString","substring","yyyy","dd","mm","seps","cnt","shift","getBetweenDates","betweenDates","x","active_date","isBetweenDates","sd","ed","Array","hasSameDayEventType","type","eventLength","arr","themeName","prevTheme","toLowerCase","resize","off","on","toggleOutside","initEventListener","find","children","calculateDays","nameDays","weekStart","firstDay","html","markup","headerClass","append","buildSidebarYear","buildSidebarMonths","buildCalendar","buildEventList","hasEventToday","text","eventListEl","eventAdder","everyYear","event","addEventList","event_data","color","badge","description","removeEventList","remove","day","j","dayClass","thisDay","selectedDate","buildEventIndicator","addEventIndicator","htmlToAppend","thisDate","setFullYear","appendDot","removeEventIndicator","removeDot","parent","el","target","closest","data","index","map","indexOf","modified_event","dates_range","yearVal","parseInt","currentTarget","oldDate","isSameDate","getActiveDate","getActiveEvents","isInnerClicked","originalEvent","toggleClass","addCalendarEvent","addEvent","isDateValid","removeCalendarEvent","deleteEvent","splice","getTime","fn","evoCalendar","opt","arguments","args","slice","call","l","ret","apply"],"mappings":"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","sourcesContent":["/*!\n * Evo Calendar - Simple and Modern-looking Event Calendar Plugin\n *\n * Licensed under the MIT License\n * \n * Version: 1.1.3\n * Author: Edlyn Villegas\n * Docs: https://edlynvillegas.github.com/evo-calendar\n * Repo: https://github.com/edlynvillegas/evo-calendar\n * Issues: https://github.com/edlynvillegas/evo-calendar/issues\n * \n */\n\n;(function(factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        define(['jquery'], factory);\n    } else if (typeof exports !== 'undefined') {\n        module.exports = factory(require('jquery'));\n    } else {\n        factory(jQuery);\n    }\n\n}(function($) {\n    'use strict';\n    var EvoCalendar = window.EvoCalendar || {};\n    \n    EvoCalendar = (function() {\n        var instanceUid = 0;\n        function EvoCalendar(element, settings) {\n            var _ = this;\n            _.defaults = {\n                theme: null,\n                format: 'mm/dd/yyyy',\n                titleFormat: 'MM yyyy',\n                eventHeaderFormat: 'MM d, yyyy',\n                firstDayOfWeek: 0,\n                language: 'en',\n                todayHighlight: false,\n                sidebarDisplayDefault: true,\n                sidebarToggler: true,\n                eventDisplayDefault: true,\n                eventListToggler: true,\n                calendarEvents: null\n            };\n            _.options = $.extend({}, _.defaults, settings);\n\n            _.initials = {\n                default_class: $(element)[0].classList.value,\n                validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,\n                dates: {\n                    en: {\n                        days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n                        daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n                        daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n                        months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n                        monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n                        noEventForToday: \"No event for today.. so take a rest! :)\",\n                        noEventForThisDay: \"No event for this day.. so take a rest! :)\",\n                        previousYearText: \"Previous year\",\n                        nextYearText: \"Next year\",\n                        closeSidebarText: \"Close sidebar\",\n                        closeEventListText: \"Close event list\"\n                    },\n                    es: {\n                        days: [\"Domingo\", \"Lunes\", \"Martes\", \"Miércoles\", \"Jueves\", \"Viernes\", \"Sábado\"],\n                        daysShort: [\"Dom\", \"Lun\", \"Mar\", \"Mié\", \"Jue\", \"Vie\", \"Sáb\"],\n                        daysMin: [\"Do\", \"Lu\", \"Ma\", \"Mi\", \"Ju\", \"Vi\", \"Sa\"],\n                        months: [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"],\n                        monthsShort: [\"Ene\", \"Feb\", \"Mar\", \"Abr\", \"May\", \"Jun\", \"Jul\", \"Ago\", \"Sep\", \"Oct\", \"Nov\", \"Dic\"],\n                        noEventForToday: \"No hay evento para hoy.. ¡así que descanse! :)\",\n                        noEventForThisDay: \"Ningún evento para este día.. ¡así que descanse! :)\",\n                        previousYearText: \"Año anterior\",\n                        nextYearText: \"El próximo año\",\n                        closeSidebarText: \"Cerrar la barra lateral\",\n                        closeEventListText: \"Cerrar la lista de eventos\"\n                    },\n                    de: {\n                        days: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n                        daysShort: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n                        daysMin: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n                        months: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n                        monthsShort: [\"Jan\", \"Feb\", \"Mär\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n                        noEventForToday: \"Keine Veranstaltung für heute.. also ruhen Sie sich aus! :)\",\n                        noEventForThisDay: \"Keine Veranstaltung für diesen Tag.. also ruhen Sie sich aus! :)\",\n                        previousYearText: \"Vorheriges Jahr\",\n                        nextYearText: \"Nächstes Jahr\",\n                        closeSidebarText: \"Schließen Sie die Seitenleiste\",\n                        closeEventListText: \"Schließen Sie die Ereignisliste\"\n                    },\n                    pt: {\n                        days: [\"Domingo\", \"Segunda-Feira\", \"Terça-Feira\", \"Quarta-Feira\", \"Quinta-Feira\", \"Sexta-Feira\", \"Sábado\"],\n                        daysShort: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\"],\n                        daysMin: [\"Do\", \"2a\", \"3a\", \"4a\", \"5a\", \"6a\", \"Sa\"],\n                        months: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n                        monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n                        noEventForToday: \"Nenhum evento para hoje.. então descanse! :)\",\n                        noEventForThisDay: \"Nenhum evento para este dia.. então descanse! :)\",\n                        previousYearText: \"Ano anterior\",\n                        nextYearText: \"Próximo ano\",\n                        closeSidebarText: \"Feche a barra lateral\",\n                        closeEventListText: \"Feche a lista de eventos\"\n                    },\n                    fr: {\n                        days: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\n                        daysShort: [\"Dim\", \"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\"],\n                        daysMin: [\"Di\", \"Lu\", \"Ma\", \"Me\", \"Je\", \"Ve\", \"Sa\"],\n                        months: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\", \"Décembre\"],\n                        monthsShort: [\"Jan\", \"Fév\", \"Mar\", \"Avr\", \"Mai\", \"Juin\", \"Juil\", \"Août\", \"Sept\", \"Oct\", \"Nov\", \"Déc\"],\n                        noEventForToday: \"Rien pour aujourd'hui... Belle journée :)\",\n                        noEventForThisDay: \"Rien pour ce jour-ci... Profite de te réposer :)\",\n                        previousYearText: \"Année précédente\",\n                        nextYearText: \"L'année prochaine\",\n                        closeSidebarText: \"Fermez la barre latérale\",\n                        closeEventListText: \"Fermer la liste des événements\"\n                    },\n                    nl: {\n                        days: [\"Zondag\", \"Maandag\", \"Dinsdag\", \"Woensdag\", \"Donderdag\", \"Vrijdag\", \"Zaterdag\"],\n                        daysShort: [\"Zon\", \"Maan\", \"Din\", \"Woe\", \"Don\", \"Vrij\", \"Zat\"],\n                        daysMin: [\"Zo\", \"Ma\", \"Di\", \"Wo\", \"Do\", \"Vr\", \"Za\"],\n                        months: [\"Januari\", \"Februari\", \"Maart\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Augustus\", \"September\", \"Oktober\", \"November\", \"December\"],\n                        monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\n                        noEventForToday: \"Geen event voor vandaag.. dus rust even uit! :)\",\n                        noEventForThisDay: \"Geen event voor deze dag.. dus rust even uit! :)\",\n                        previousYearText: \"Vorig jaar\",\n                        nextYearText: \"Volgend jaar\",\n                        closeSidebarText: \"Sluit de zijbalk\",\n                        closeEventListText: \"Sluit de event lijst\"\n                    },\n                    id: {\n                        days: [\"Minggu\", \"Senin\", \"Selasa\", \"Rabu\", \"Kamis\", \"Jumat\", \"Sabtu\"],\n                        daysShort: [\"Min\", \"Sen\", \"Sel\", \"Rab\", \"Kam\", \"Jum\", \"Sab\"],\n                        daysMin: [\"Mi\", \"Sn\", \"Sl\", \"Ra\", \"Ka\", \"Ju\", \"Sa\"],\n                        months: [\"Januari\", \"Februari\", \"Maret\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Agustus\", \"September\", \"Oktober\", \"November\", \"Desember\"],\n                        monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Agu\", \"Sep\", \"Okt\", \"Nov\", \"Des\"],\n                        noEventForToday: \"Tidak ada Acara untuk Sekarang.. Jadi Beristirahatlah! :)\",\n                        noEventForThisDay: \"Tidak ada Acara untuk Hari Ini.. Jadi Beristirahatlah! :)\",\n                        previousYearText: \"Tahun Sebelumnya\",\n                        nextYearText: \"Tahun Berikutnya\",\n                        closeSidebarText: \"Tutup Sidebar\",\n                        closeEventListText: \"Tutup Daftar Acara\"\n                    }\n                }\n            }\n            _.initials.weekends = {\n                sun: _.initials.dates[_.options.language].daysShort[0],\n                sat: _.initials.dates[_.options.language].daysShort[6]\n            }\n\n\n            // Format Calendar Events into selected format\n            if(_.options.calendarEvents != null) {\n                for(var i=0; i < _.options.calendarEvents.length; i++) {\n                    // If event doesn't have an id, throw an error message\n                    if(!_.options.calendarEvents[i].id) {\n                        console.log(\"%c Event named: \\\"\"+_.options.calendarEvents[i].name+\"\\\" doesn't have a unique ID \", \"color:white;font-weight:bold;background-color:#e21d1d;\");\n                    }\n                    if(_.isValidDate(_.options.calendarEvents[i].date)) {\n                        _.options.calendarEvents[i].date = _.formatDate(_.options.calendarEvents[i].date, _.options.format)\n                    }\n                }\n            }\n\n            // Global variables\n            _.startingDay = null;\n            _.monthLength = null;\n            _.windowW = $(window).width();\n            \n            // CURRENT\n            _.$current = {\n                month: (isNaN(this.month) || this.month == null) ? new Date().getMonth() : this.month,\n                year: (isNaN(this.year) || this.year == null) ? new Date().getFullYear() : this.year,\n                date: _.formatDate(_.initials.dates[_.defaults.language].months[new Date().getMonth()]+' '+new Date().getDate()+' '+ new Date().getFullYear(), _.options.format)\n            }\n\n            // ACTIVE\n            _.$active = {\n                month: _.$current.month,\n                year: _.$current.year,\n                date: _.$current.date,\n                event_date: _.$current.date,\n                events: []\n            }\n\n            // LABELS\n            _.$label = {\n                days: [],\n                months: _.initials.dates[_.defaults.language].months,\n                days_in_month: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n            }\n\n            // HTML Markups (template)\n            _.$markups = {\n                calendarHTML: '',\n                mainHTML: '',\n                sidebarHTML: '',\n                eventHTML: ''\n            }\n            // HTML DOM elements\n            _.$elements = {\n                calendarEl: $(element),\n                innerEl: null,\n                sidebarEl: null,\n                eventEl: null,\n\n                sidebarToggler: null,\n                eventListToggler: null,\n\n                activeDayEl: null,\n                activeMonthEl: null,\n                activeYearEl: null\n            }\n            _.$breakpoints = {\n                tablet: 768,\n                mobile: 425\n            }\n            _.$UI = {\n                hasSidebar: true,\n                hasEvent: true\n            }\n\n            _.formatDate = $.proxy(_.formatDate, _);\n            _.selectDate = $.proxy(_.selectDate, _);\n            _.selectMonth = $.proxy(_.selectMonth, _);\n            _.selectYear = $.proxy(_.selectYear, _);\n            _.selectEvent = $.proxy(_.selectEvent, _);\n            _.toggleSidebar = $.proxy(_.toggleSidebar, _);\n            _.toggleEventList = $.proxy(_.toggleEventList, _);\n            \n            _.instanceUid = instanceUid++;\n\n            _.init(true);\n        }\n\n        return EvoCalendar;\n\n    }());\n\n    // v1.0.0 - Initialize plugin\n    EvoCalendar.prototype.init = function(init) {\n        var _ = this;\n        \n        if (!$(_.$elements.calendarEl).hasClass('calendar-initialized')) {\n            $(_.$elements.calendarEl).addClass('evo-calendar calendar-initialized');\n            if (_.windowW <= _.$breakpoints.tablet) { // tablet/mobile\n                _.toggleSidebar(false);\n                _.toggleEventList(false);\n            } else {\n                if (!_.options.sidebarDisplayDefault) _.toggleSidebar(false);\n                else _.toggleSidebar(true);\n\n                if (!_.options.eventDisplayDefault) _.toggleEventList(false);\n                else _.toggleEventList(true);\n            }\n            if (_.options.theme) _.setTheme(_.options.theme); // set calendar theme\n            _.buildTheBones(); // start building the calendar components\n        }\n    };\n    // v1.0.0 - Destroy plugin\n    EvoCalendar.prototype.destroy = function() {\n        var _ = this;\n        // code here\n        _.destroyEventListener();\n        if (_.$elements.calendarEl) {\n            _.$elements.calendarEl.removeClass('calendar-initialized');\n            _.$elements.calendarEl.removeClass('evo-calendar');\n            _.$elements.calendarEl.removeClass('sidebar-hide');\n            _.$elements.calendarEl.removeClass('event-hide');\n        }\n        _.$elements.calendarEl.empty();\n        _.$elements.calendarEl.attr('class', _.initials.default_class);\n        $(_.$elements.calendarEl).trigger(\"destroy\", [_])\n    }\n\n    // v1.0.0 - Limit title (...)\n    EvoCalendar.prototype.limitTitle = function(title, limit) {\n        var newTitle = [];\n        limit = limit === undefined ? 18 : limit;\n        if ((title).split(' ').join('').length > limit) {\n            var t = title.split(' ');\n            for (var i=0; i<t.length; i++) {\n                if (t[i].length + newTitle.join('').length <= limit) {\n                    newTitle.push(t[i])\n                }\n            }\n            return newTitle.join(' ') + '...'\n        }\n        return title;\n    }\n\n    // v1.1.2 - Check and filter strings\n    EvoCalendar.prototype.stringCheck = function(d) {\n        return d.replace(/[^\\w]/g, '\\\\$&');\n    }\n            \n    // v1.0.0 - Parse format (date)\n    EvoCalendar.prototype.parseFormat = function(format) {\n        var _ = this;\n        if (typeof format.toValue === 'function' && typeof format.toDisplay === 'function')\n            return format;\n        // IE treats \\0 as a string end in inputs (truncating the value),\n        // so it's a bad format delimiter, anyway\n        var separators = format.replace(_.initials.validParts, '\\0').split('\\0'),\n            parts = format.match(_.initials.validParts);\n        if (!separators || !separators.length || !parts || parts.length === 0){\n            console.log(\"%c Invalid date format \", \"color:white;font-weight:bold;background-color:#e21d1d;\");\n        }\n        return {separators: separators, parts: parts};\n    };\n    \n    // v1.0.0 - Format date\n    EvoCalendar.prototype.formatDate = function(date, format, language) {\n        var _ = this;\n        if (!date)\n            return '';\n        language = language ? language : _.defaults.language\n        if (typeof format === 'string')\n            format = _.parseFormat(format);\n        if (format.toDisplay)\n            return format.toDisplay(date, format, language);\n\n        var ndate = new Date(date);\n        // if (!_.isValidDate(ndate)) { // test\n        //     ndate = new Date(date.replace(/-/g, '/'))\n        // }\n        \n        var val = {\n            d: ndate.getDate(),\n            D: _.initials.dates[language].daysShort[ndate.getDay()],\n            DD: _.initials.dates[language].days[ndate.getDay()],\n            m: ndate.getMonth() + 1,\n            M: _.initials.dates[language].monthsShort[ndate.getMonth()],\n            MM: _.initials.dates[language].months[ndate.getMonth()],\n            yy: ndate.getFullYear().toString().substring(2),\n            yyyy: ndate.getFullYear()\n        };\n        \n        val.dd = (val.d < 10 ? '0' : '') + val.d;\n        val.mm = (val.m < 10 ? '0' : '') + val.m;\n        date = [];\n        var seps = $.extend([], format.separators);\n        for (var i=0, cnt = format.parts.length; i <= cnt; i++){\n            if (seps.length)\n                date.push(seps.shift());\n            date.push(val[format.parts[i]]);\n        }\n        return date.join('');\n    };\n\n    // v1.0.0 - Get dates between two dates\n    EvoCalendar.prototype.getBetweenDates = function(dates) {\n        var _ = this, betweenDates = [];\n        for (var x = 0; x < _.monthLength; x++) {\n            var active_date = _.formatDate(_.$label.months[_.$active.month] +' '+ (x + 1) +' '+ _.$active.year, _.options.format);\n            if (_.isBetweenDates(active_date, dates)) {\n                betweenDates.push(active_date);\n            }\n        }\n        return betweenDates;\n    };\n\n    // v1.0.0 - Check if date is between the passed calendar date \n    EvoCalendar.prototype.isBetweenDates = function(active_date, dates) {\n        var sd, ed;\n        if (dates instanceof Array) {\n            sd = new Date(dates[0]);\n            ed = new Date(dates[1]);\n        } else {\n            sd = new Date(dates);\n            ed = new Date(dates);\n        }\n        if (sd <= new Date(active_date) && ed >= new Date(active_date)) {\n            return true;\n        }\n        return false;\n    }\n    \n    // v1.0.0 - Check if event has the same event type in the same date\n    EvoCalendar.prototype.hasSameDayEventType = function(date, type) {\n        var _ = this, eventLength = 0;\n\n        for (var i = 0; i < _.options.calendarEvents.length; i++) {\n            if (_.options.calendarEvents[i].date instanceof Array) {\n                var arr = _.getBetweenDates(_.options.calendarEvents[i].date);\n                for (var x = 0; x < arr.length; x++) {\n                    if(date === arr[x] && type === _.options.calendarEvents[i].type) {\n                        eventLength++;\n                    }\n                }\n            } else {\n                if(date === _.options.calendarEvents[i].date && type === _.options.calendarEvents[i].type) {\n                    eventLength++;\n                }\n            }\n        }\n\n        if (eventLength > 0) {\n            return true;\n        }\n        return false;\n    }\n    \n    // v1.0.0 - Set calendar theme\n    EvoCalendar.prototype.setTheme = function(themeName) {\n        var _ = this;\n        var prevTheme = _.options.theme;\n        _.options.theme = themeName.toLowerCase().split(' ').join('-');\n\n        if (_.options.theme) $(_.$elements.calendarEl).removeClass(prevTheme);\n        if (_.options.theme !== 'default') $(_.$elements.calendarEl).addClass(_.options.theme);\n    }\n\n    // v1.0.0 - Called in every resize\n    EvoCalendar.prototype.resize = function() {\n        var _ = this;\n        _.windowW = $(window).width();\n\n        if (_.windowW <= _.$breakpoints.tablet) { // tablet\n            _.toggleSidebar(false);\n            _.toggleEventList(false);\n\n            if (_.windowW <= _.$breakpoints.mobile) { // mobile\n                $(window)\n                    .off('click.evocalendar.evo-' + _.instanceUid)\n            } else {\n                $(window)\n                    .on('click.evocalendar.evo-' + _.instanceUid, $.proxy(_.toggleOutside, _));\n            }\n        } else {\n            if (!_.options.sidebarDisplayDefault) _.toggleSidebar(false);\n            else _.toggleSidebar(true);\n\n            if (!_.options.eventDisplayDefault) _.toggleEventList(false);\n            else _.toggleEventList(true);\n            \n            $(window)\n                .off('click.evocalendar.evo-' + _.instanceUid);\n        }\n    }\n\n    // v1.0.0 - Initialize event listeners\n    EvoCalendar.prototype.initEventListener = function() {\n        var _ = this;\n\n        // resize\n        $(window)\n            .off('resize.evocalendar.evo-' + _.instanceUid)\n            .on('resize.evocalendar.evo-' + _.instanceUid, $.proxy(_.resize, _));\n\n        // IF sidebarToggler: set event listener: toggleSidebar\n        if(_.options.sidebarToggler) {\n            _.$elements.sidebarToggler\n            .off('click.evocalendar')\n            .on('click.evocalendar', _.toggleSidebar);\n        }\n        \n        // IF eventListToggler: set event listener: toggleEventList\n        if(_.options.eventListToggler) {\n            _.$elements.eventListToggler\n            .off('click.evocalendar')\n            .on('click.evocalendar', _.toggleEventList);\n        }\n\n        // set event listener for each month\n        _.$elements.sidebarEl.find('[data-month-val]')\n        .off('click.evocalendar')\n        .on('click.evocalendar', _.selectMonth);\n\n        // set event listener for year\n        _.$elements.sidebarEl.find('[data-year-val]')\n        .off('click.evocalendar')\n        .on('click.evocalendar', _.selectYear);\n\n        // set event listener for every event listed\n        _.$elements.eventEl.find('[data-event-index]')\n        .off('click.evocalendar')\n        .on('click.evocalendar', _.selectEvent);\n    };\n    \n    // v1.0.0 - Destroy event listeners\n    EvoCalendar.prototype.destroyEventListener = function() {\n        var _ = this;\n        \n        $(window).off('resize.evocalendar.evo-' + _.instanceUid);\n        $(window).off('click.evocalendar.evo-' + _.instanceUid);\n        \n        // IF sidebarToggler: remove event listener: toggleSidebar\n        if(_.options.sidebarToggler) {\n            _.$elements.sidebarToggler\n            .off('click.evocalendar');\n        }\n        \n        // IF eventListToggler: remove event listener: toggleEventList\n        if(_.options.eventListToggler) {\n            _.$elements.eventListToggler\n            .off('click.evocalendar');\n        }\n\n        // remove event listener for each day\n        _.$elements.innerEl.find('.calendar-day').children()\n        .off('click.evocalendar')\n\n        // remove event listener for each month\n        _.$elements.sidebarEl.find('[data-month-val]')\n        .off('click.evocalendar');\n\n        // remove event listener for year\n        _.$elements.sidebarEl.find('[data-year-val]')\n        .off('click.evocalendar');\n\n        // remove event listener for every event listed\n        _.$elements.eventEl.find('[data-event-index]')\n        .off('click.evocalendar');\n    };\n    \n    // v1.0.0 - Calculate days (incl. monthLength, startingDays based on :firstDayOfWeekName)\n    EvoCalendar.prototype.calculateDays = function() {\n        var _ = this, nameDays, weekStart, firstDay;\n        _.monthLength = _.$label.days_in_month[_.$active.month]; // find number of days in month\n        if (_.$active.month == 1) { // compensate for leap year - february only!\n            if((_.$active.year % 4 == 0 && _.$active.year % 100 != 0) || _.$active.year % 400 == 0){\n                _.monthLength = 29;\n            }\n        }\n        nameDays = _.initials.dates[_.options.language].daysShort;\n        weekStart = _.options.firstDayOfWeek;\n        \n        while (_.$label.days.length < nameDays.length) {\n            if (weekStart == nameDays.length) {\n                weekStart=0;\n            }\n            _.$label.days.push(nameDays[weekStart]);\n            weekStart++;\n        }\n        firstDay = new Date(_.$active.year, _.$active.month).getDay() - weekStart;\n        _.startingDay = firstDay < 0 ? (_.$label.days.length + firstDay) : firstDay;\n    }\n\n    // v1.0.0 - Build the bones! (incl. sidebar, inner, events), called once in every initialization\n    EvoCalendar.prototype.buildTheBones = function() {\n        var _ = this;\n        _.calculateDays();\n        \n        if (!_.$elements.calendarEl.html()) {\n            var markup;\n\n            // --- BUILDING MARKUP BEGINS --- //\n\n            // sidebar\n            markup = '<div class=\"calendar-sidebar\">'+\n                        '<div class=\"calendar-year\">'+\n                        '<button class=\"icon-button\" role=\"button\" data-year-val=\"prev\" title=\"'+_.initials.dates[_.options.language].previousYearText+'\">'+\n                                '<span class=\"chevron-arrow-left\"></span>'+\n                            '</button>'+\n                            '&nbsp;<p></p>&nbsp;'+\n                            '<button class=\"icon-button\" role=\"button\" data-year-val=\"next\" title=\"'+_.initials.dates[_.options.language].nextYearText+'\">'+\n                                '<span class=\"chevron-arrow-right\"></span>'+\n                            '</button>'+\n                        '</div><div class=\"month-list\">'+\n                        '<ul class=\"calendar-months\">';\n                            for(var i = 0; i < _.$label.months.length; i++) {\n                                markup += '<li class=\"month\" role=\"button\" data-month-val=\"'+i+'\">'+_.initials.dates[_.options.language].months[i]+'</li>';\n                            }\n                        markup += '</ul>';\n            markup += '</div></div>';\n        \n            // inner\n            markup += '<div class=\"calendar-inner\">'+\n                            '<table class=\"calendar-table\">'+\n                                '<tr><th colspan=\"7\"></th></tr>'+\n                                '<tr class=\"calendar-header\">';\n                                for(var i = 0; i < _.$label.days.length; i++ ){\n                                    var headerClass = \"calendar-header-day\";\n                                    if (_.$label.days[i] === _.initials.weekends.sat || _.$label.days[i] === _.initials.weekends.sun) {\n                                        headerClass += ' --weekend';\n                                    }\n                                    markup += '<td class=\"'+headerClass+'\">'+_.$label.days[i]+'</td>';\n                                }\n                                markup += '</tr></table>'+\n                        '</div>';\n\n            // events\n            markup += '<div class=\"calendar-events\">'+\n                            '<div class=\"event-header\"><p></p></div>'+\n                            '<div class=\"event-list\"></div>'+\n                        '</div>';\n\n            // --- Finally, build it now! --- //\n            _.$elements.calendarEl.html(markup);\n\n            if (!_.$elements.sidebarEl) _.$elements.sidebarEl = $(_.$elements.calendarEl).find('.calendar-sidebar');\n            if (!_.$elements.innerEl) _.$elements.innerEl = $(_.$elements.calendarEl).find('.calendar-inner');\n            if (!_.$elements.eventEl) _.$elements.eventEl = $(_.$elements.calendarEl).find('.calendar-events');\n\n            // if: _.options.sidebarToggler\n            if(_.options.sidebarToggler) {\n                $(_.$elements.sidebarEl).append('<span id=\"sidebarToggler\" role=\"button\" aria-pressed title=\"'+_.initials.dates[_.options.language].closeSidebarText+'\"><button class=\"icon-button\"><span class=\"bars\"></span></button></span>');\n                if(!_.$elements.sidebarToggler) _.$elements.sidebarToggler = $(_.$elements.sidebarEl).find('span#sidebarToggler');\n            }\n            if(_.options.eventListToggler) {\n                $(_.$elements.calendarEl).append('<span id=\"eventListToggler\" role=\"button\" aria-pressed title=\"'+_.initials.dates[_.options.language].closeEventListText+'\"><button class=\"icon-button\"><span class=\"chevron-arrow-right\"></span></button></span>');\n                if(!_.$elements.eventListToggler) _.$elements.eventListToggler = $(_.$elements.calendarEl).find('span#eventListToggler');\n            }\n        }\n\n        _.buildSidebarYear();\n        _.buildSidebarMonths();\n        _.buildCalendar();\n        _.buildEventList();\n        _.initEventListener(); // test\n\n        _.resize();\n    }\n\n    // v1.0.0 - Build Event: Event list\n    EvoCalendar.prototype.buildEventList = function() {\n        var _ = this, markup, hasEventToday = false;\n        \n        _.$active.events = [];\n        // Event date\n        var title = _.formatDate(_.$active.date, _.options.eventHeaderFormat, _.options.language);\n        _.$elements.eventEl.find('.event-header > p').text(title);\n        // Event list\n        var eventListEl = _.$elements.eventEl.find('.event-list');\n        // Clear event list item(s)\n        if (eventListEl.children().length > 0) eventListEl.empty();\n        if (_.options.calendarEvents) {\n            for (var i = 0; i < _.options.calendarEvents.length; i++) {\n                if(_.isBetweenDates(_.$active.date, _.options.calendarEvents[i].date)) {\n                    eventAdder(_.options.calendarEvents[i])\n                }\n                else if (_.options.calendarEvents[i].everyYear) {\n                    var d = new Date(_.$active.date).getMonth() + 1 + ' ' + new Date(_.$active.date).getDate();\n                    var dd = new Date(_.options.calendarEvents[i].date).getMonth() + 1 + ' ' + new Date(_.options.calendarEvents[i].date).getDate();\n                    // var dates = [_.formatDate(_.options.calendarEvents[i].date[0], 'mm/dd'), _.formatDate(_.options.calendarEvents[i].date[1], 'mm/dd')];\n\n                    if(d==dd) {\n                        eventAdder(_.options.calendarEvents[i])\n                    }\n                }\n            };\n        }\n        function eventAdder(event) {\n            hasEventToday = true;\n            _.addEventList(event)\n        }\n        // IF: no event for the selected date\n        if(!hasEventToday) {\n            markup = '<div class=\"event-empty\">';\n            if (_.$active.date === _.$current.date) {\n                markup += '<p>'+_.initials.dates[_.options.language].noEventForToday+'</p>';\n            } else {\n                markup += '<p>'+_.initials.dates[_.options.language].noEventForThisDay+'</p>';\n            }\n            markup += '</div>';\n        }\n        eventListEl.append(markup)\n    }\n\n    // v1.0.0 - Add single event to event list\n    EvoCalendar.prototype.addEventList = function(event_data) {\n        var _ = this, markup;\n        var eventListEl = _.$elements.eventEl.find('.event-list');\n        if (eventListEl.find('[data-event-index]').length === 0) eventListEl.empty();\n        _.$active.events.push(event_data);\n        markup = '<div class=\"event-container\" role=\"button\" data-event-index=\"'+(event_data.id)+'\">';\n        markup += '<div class=\"event-icon\"><div class=\"event-bullet-'+event_data.type+'\"';\n        if (event_data.color) {\n            markup += 'style=\"background-color:'+event_data.color+'\"'\n        }\n        markup += '></div></div><div class=\"event-info\"><p class=\"event-title\">'+_.limitTitle(event_data.name);\n        if (event_data.badge) markup += '<span>'+event_data.badge+'</span>';\n        markup += '</p>'\n        if (event_data.description) markup += '<p class=\"event-desc\">'+event_data.description+'</p>';\n        markup += '</div>';\n        markup += '</div>';\n        eventListEl.append(markup);\n\n        _.$elements.eventEl.find('[data-event-index=\"'+(event_data.id)+'\"]')\n        .off('click.evocalendar')\n        .on('click.evocalendar', _.selectEvent);\n    }\n    // v1.0.0 - Remove single event to event list\n    EvoCalendar.prototype.removeEventList = function(event_data) {\n        var _ = this, markup;\n        var eventListEl = _.$elements.eventEl.find('.event-list');\n        if (eventListEl.find('[data-event-index=\"'+event_data+'\"]').length === 0) return; // event not in active events\n        eventListEl.find('[data-event-index=\"'+event_data+'\"]').remove();\n        if (eventListEl.find('[data-event-index]').length === 0) {\n            eventListEl.empty();\n            if (_.$active.date === _.$current.date) {\n                markup += '<p>'+_.initials.dates[_.options.language].noEventForToday+'</p>';\n            } else {\n                markup += '<p>'+_.initials.dates[_.options.language].noEventForThisDay+'</p>';\n            }\n            eventListEl.append(markup)\n        }\n    }\n    \n    // v1.0.0 - Build Sidebar: Year text\n    EvoCalendar.prototype.buildSidebarYear = function() {\n        var _ = this;\n        \n        _.$elements.sidebarEl.find('.calendar-year > p').text(_.$active.year);\n    }\n\n    // v1.0.0 - Build Sidebar: Months list text\n    EvoCalendar.prototype.buildSidebarMonths = function() {\n        var _ = this;\n        \n        _.$elements.sidebarEl.find('.calendar-months > [data-month-val]').removeClass('active-month');\n        _.$elements.sidebarEl.find('.calendar-months > [data-month-val=\"'+_.$active.month+'\"]').addClass('active-month');\n    }\n\n    // v1.0.0 - Build Calendar: Title, Days\n    EvoCalendar.prototype.buildCalendar = function() {\n        var _ = this, markup, title;\n        \n        _.calculateDays();\n\n        title = _.formatDate(new Date(_.$label.months[_.$active.month] +' 1 '+ _.$active.year), _.options.titleFormat, _.options.language);\n        _.$elements.innerEl.find('.calendar-table th').text(title);\n\n        _.$elements.innerEl.find('.calendar-body').remove(); // Clear days\n        \n        markup += '<tr class=\"calendar-body\">';\n                    var day = 1;\n                    for (var i = 0; i < 9; i++) { // this loop is for is weeks (rows)\n                        for (var j = 0; j < _.$label.days.length; j++) { // this loop is for weekdays (cells)\n                            if (day <= _.monthLength && (i > 0 || j >= _.startingDay)) {\n                                var dayClass = \"calendar-day\";\n                                if (_.$label.days[j] === _.initials.weekends.sat || _.$label.days[j] === _.initials.weekends.sun) {\n                                    dayClass += ' --weekend'; // add '--weekend' to sat sun\n                                }\n                                markup += '<td class=\"'+dayClass+'\">';\n\n                                var thisDay = _.formatDate(_.$label.months[_.$active.month]+' '+day+' '+_.$active.year, _.options.format);\n                                markup += '<div class=\"day\" role=\"button\" data-date-val=\"'+thisDay+'\">'+day+'</div>';\n                                day++;\n                            } else {\n                                markup += '<td>';\n                            }\n                            markup += '</td>';\n                        }\n                        if (day > _.monthLength) {\n                            break; // stop making rows if we've run out of days\n                        } else {\n                            markup += '</tr><tr class=\"calendar-body\">'; // add if not\n                        }\n                    }\n                    markup += '</tr>';\n        _.$elements.innerEl.find('.calendar-table').append(markup);\n\n        if(_.options.todayHighlight) {\n            _.$elements.innerEl.find(\"[data-date-val='\" + _.$current.date + \"']\").addClass('calendar-today');\n        }\n        \n        // set event listener for each day\n        _.$elements.innerEl.find('.calendar-day').children()\n        .off('click.evocalendar')\n        .on('click.evocalendar', _.selectDate)\n\n        var selectedDate = _.$elements.innerEl.find(\"[data-date-val='\" + _.$active.date + \"']\");\n        \n        if (selectedDate) {\n            // Remove active class to all\n            _.$elements.innerEl.children().removeClass('calendar-active');\n            // Add active class to selected date\n            selectedDate.addClass('calendar-active');\n        }\n        if(_.options.calendarEvents != null) { // For event indicator (dots)\n            _.buildEventIndicator();\n        }\n    };\n\n    // v1.0.0 - Add event indicator/s (dots)\n    EvoCalendar.prototype.addEventIndicator = function(event) {\n        var _ = this, htmlToAppend, thisDate;\n        var event_date = event.date;\n        var type = _.stringCheck(event.type);\n        \n        if (event_date instanceof Array) {\n            if (event.everyYear) {\n                for (var x=0; x<event_date.length; x++) {\n                    event_date[x] = _.formatDate(new Date(event_date[x]).setFullYear(_.$active.year), _.options.format);\n                }\n            }\n            var active_date = _.getBetweenDates(event_date);\n            \n            for (var i=0; i<active_date.length; i++) {\n                appendDot(active_date[i]);\n            }\n        } else {\n            if (event.everyYear) {\n                event_date = _.formatDate(new Date(event_date).setFullYear(_.$active.year), _.options.format);\n            }\n            appendDot(event_date);\n        }\n\n        function appendDot(date) {\n            thisDate = _.$elements.innerEl.find('[data-date-val=\"'+date+'\"]');\n\n            if (thisDate.find('span.event-indicator').length === 0) {\n                thisDate.append('<span class=\"event-indicator\"></span>');\n            }\n            \n            if (thisDate.find('span.event-indicator > .type-bullet > .type-'+type).length === 0) {\n                htmlToAppend = '<div class=\"type-bullet\"><div ';\n                \n                htmlToAppend += 'class=\"type-'+event.type+'\"'\n                if (event.color) { htmlToAppend += 'style=\"background-color:'+event.color+'\"' }\n                htmlToAppend += '></div></div>';\n                thisDate.find('.event-indicator').append(htmlToAppend);\n            }\n        }      \n    };\n    \n    // v1.0.0 - Remove event indicator/s (dots)\n    EvoCalendar.prototype.removeEventIndicator = function(event) {\n        var _ = this;\n        var event_date = event.date;\n        var type = _.stringCheck(event.type);\n\n        if (event_date instanceof Array) {\n            var active_date = _.getBetweenDates(event_date);\n            \n            for (var i=0; i<active_date.length; i++) {\n                removeDot(active_date[i]);\n            }\n        } else {\n            removeDot(event_date);\n        }\n\n        function removeDot(date) {\n            // Check if no '.event-indicator', 'cause nothing to remove\n            if (_.$elements.innerEl.find('[data-date-val=\"'+date+'\"] span.event-indicator').length === 0) {\n                return;\n            }\n\n            // // If has no type of event, then delete \n            if (!_.hasSameDayEventType(date, type)) {\n                _.$elements.innerEl.find('[data-date-val=\"'+date+'\"] span.event-indicator > .type-bullet > .type-'+type).parent().remove();\n            }\n        }\n    };\n    \n    /****************\n    *    METHODS    *\n    ****************/\n\n    // v1.0.0 - Build event indicator on each date\n    EvoCalendar.prototype.buildEventIndicator = function() {\n        var _ = this;\n        \n        // prevent duplication\n        _.$elements.innerEl.find('.calendar-day > day > .event-indicator').empty();\n        \n        for (var i = 0; i < _.options.calendarEvents.length; i++) {\n            _.addEventIndicator(_.options.calendarEvents[i]);\n        }\n    };\n\n    // v1.0.0 - Select event\n    EvoCalendar.prototype.selectEvent = function(event) {\n        var _ = this;\n        var el = $(event.target).closest('.event-container');\n        var id = $(el).data('eventIndex').toString();\n        var index = _.options.calendarEvents.map(function (event) { return (event.id).toString() }).indexOf(id);\n        var modified_event = _.options.calendarEvents[index];\n        if (modified_event.date instanceof Array) {\n            modified_event.dates_range = _.getBetweenDates(modified_event.date);\n        }\n        $(_.$elements.calendarEl).trigger(\"selectEvent\", [_.options.calendarEvents[index]])\n    }\n\n    // v1.0.0 - Select year\n    EvoCalendar.prototype.selectYear = function(event) {\n        var _ = this;\n        var el, yearVal;\n\n        if (typeof event === 'string' || typeof event === 'number') {\n            if ((parseInt(event)).toString().length === 4) {\n                yearVal = parseInt(event);\n            }\n        } else {\n            el = $(event.target).closest('[data-year-val]');\n            yearVal = $(el).data('yearVal');\n        }\n\n        if(yearVal == \"prev\") {\n            --_.$active.year;\n        } else if (yearVal == \"next\") {\n            ++_.$active.year;\n        } else if (typeof yearVal === 'number') {\n            _.$active.year = yearVal;\n        }\n        \n        if (_.windowW <= _.$breakpoints.mobile) {\n            if(_.$UI.hasSidebar) _.toggleSidebar(false);\n        }\n        \n        $(_.$elements.calendarEl).trigger(\"selectYear\", [_.$active.year])\n\n        _.buildSidebarYear();\n        _.buildCalendar();\n    };\n\n    // v1.0.0 - Select month\n    EvoCalendar.prototype.selectMonth = function(event) {\n        var _ = this;\n        \n        if (typeof event === 'string' || typeof event === 'number') {\n            if (event >= 0 && event <=_.$label.months.length) {\n                // if: 0-11\n                _.$active.month = (event).toString();\n            }\n        } else {\n            // if month is manually selected\n            _.$active.month = $(event.currentTarget).data('monthVal');\n        }\n        \n        _.buildSidebarMonths();\n        _.buildCalendar();\n        \n        if (_.windowW <= _.$breakpoints.tablet) {\n            if(_.$UI.hasSidebar) _.toggleSidebar(false);\n        }\n\n        // EVENT FIRED: selectMonth\n        $(_.$elements.calendarEl).trigger(\"selectMonth\", [_.initials.dates[_.options.language].months[_.$active.month], _.$active.month])\n    };\n\n    // v1.0.0 - Select specific date\n    EvoCalendar.prototype.selectDate = function(event) {\n        var _ = this;\n        var oldDate = _.$active.date;\n        var date, year, month, activeDayEl, isSameDate;\n\n        if (typeof event === 'string' || typeof event === 'number' || event instanceof Date) {\n            date = _.formatDate(new Date(event), _.options.format)\n            year = new Date(date).getFullYear();\n            month = new Date(date).getMonth();\n            \n            if (_.$active.year !== year) _.selectYear(year);\n            if (_.$active.month !== month) _.selectMonth(month);\n            activeDayEl = _.$elements.innerEl.find(\"[data-date-val='\" + date + \"']\");\n        } else {\n            activeDayEl = $(event.currentTarget);\n            date = activeDayEl.data('dateVal')\n        }\n        isSameDate = _.$active.date === date;\n        // Set new active date\n        _.$active.date = date;\n        _.$active.event_date = date;\n        // Remove active class to all\n        _.$elements.innerEl.find('[data-date-val]').removeClass('calendar-active');\n        // Add active class to selected date\n        activeDayEl.addClass('calendar-active');\n        // Build event list if not the same date events built\n        if (!isSameDate) _.buildEventList();\n\n        // EVENT FIRED: selectDate\n        $(_.$elements.calendarEl).trigger(\"selectDate\", [_.$active.date, oldDate])\n    };\n    \n    // v1.0.0 - Return active date\n    EvoCalendar.prototype.getActiveDate = function() {\n        var _ = this;\n        return _.$active.date;\n    }\n    \n    // v1.0.0 - Return active events\n    EvoCalendar.prototype.getActiveEvents = function() {\n        var _ = this;\n        return _.$active.events;\n    }\n\n    // v1.0.0 - Hide Sidebar/Event List if clicked outside\n    EvoCalendar.prototype.toggleOutside = function(event) {\n        var _ = this, isInnerClicked;\n        \n        isInnerClicked = event.target === _.$elements.innerEl[0];\n\n        if (_.$UI.hasSidebar && isInnerClicked) _.toggleSidebar(false);\n        if (_.$UI.hasEvent && isInnerClicked) _.toggleEventList(false);\n    }\n\n    // v1.0.0 - Toggle Sidebar\n    EvoCalendar.prototype.toggleSidebar = function(event) {\n        var _ = this;\n\n        if (event === undefined || event.originalEvent) {\n            $(_.$elements.calendarEl).toggleClass('sidebar-hide');\n            _.$UI.hasSidebar = !_.$UI.hasSidebar;\n        } else {\n            if(event) {\n                $(_.$elements.calendarEl).removeClass('sidebar-hide');\n                _.$UI.hasSidebar = true;\n            } else {\n                $(_.$elements.calendarEl).addClass('sidebar-hide');\n                _.$UI.hasSidebar = false;\n            }\n        }\n\n        if (_.windowW <= _.$breakpoints.tablet) {\n            if (_.$UI.hasSidebar && _.$UI.hasEvent) _.toggleEventList();\n        }\n    };\n\n    // v1.0.0 - Toggle Event list\n    EvoCalendar.prototype.toggleEventList = function(event) {\n        var _ = this;\n\n        if (event === undefined || event.originalEvent) {\n            $(_.$elements.calendarEl).toggleClass('event-hide');\n            _.$UI.hasEvent = !_.$UI.hasEvent;\n        } else {\n            if(event) {\n                $(_.$elements.calendarEl).removeClass('event-hide');\n                _.$UI.hasEvent = true;\n            } else {\n                $(_.$elements.calendarEl).addClass('event-hide');\n                _.$UI.hasEvent = false;\n            }\n        }\n\n        if (_.windowW <= _.$breakpoints.tablet) {\n            if (_.$UI.hasEvent && _.$UI.hasSidebar) _.toggleSidebar();\n        }\n    };\n\n    // v1.0.0 - Add Calendar Event(s)\n    EvoCalendar.prototype.addCalendarEvent = function(arr) {\n        var _ = this;\n\n        function addEvent(data) {\n            if(!data.id) {\n                console.log(\"%c Event named: \\\"\"+data.name+\"\\\" doesn't have a unique ID \", \"color:white;font-weight:bold;background-color:#e21d1d;\");\n            }\n\n            if (data.date instanceof Array) {\n                for (var j=0; j < data.date.length; j++) {\n                    if(isDateValid(data.date[j])) {\n                        data.date[j] = _.formatDate(new Date(data.date[j]), _.options.format);\n                    }\n                }\n            } else {\n                if(isDateValid(data.date)) {\n                    data.date = _.formatDate(new Date(data.date), _.options.format);\n                }\n            }\n            \n            if (!_.options.calendarEvents) _.options.calendarEvents = [];\n            _.options.calendarEvents.push(data);\n            // add to date's indicator\n            _.addEventIndicator(data);\n            // add to event list IF active.event_date === data.date\n            if (_.$active.event_date === data.date) _.addEventList(data);\n            // _.$elements.innerEl.find(\"[data-date-val='\" + data.date + \"']\")\n\n            function isDateValid(date) {\n                if(_.isValidDate(date)) {\n                    return true;\n                } else {\n                    console.log(\"%c Event named: \\\"\"+data.name+\"\\\" has invalid date \", \"color:white;font-weight:bold;background-color:#e21d1d;\");\n                }\n                return false;\n            }\n        }\n        if (arr instanceof Array) { // Arrays of events\n            for(var i=0; i < arr.length; i++) {\n                addEvent(arr[i])\n            }\n        } else if (typeof arr === 'object') { // Single event\n            addEvent(arr)\n        }\n    };\n\n    // v1.0.0 - Remove Calendar Event(s)\n    EvoCalendar.prototype.removeCalendarEvent = function(arr) {\n        var _ = this;\n\n        function deleteEvent(data) {\n            // Array index\n            var index = _.options.calendarEvents.map(function (event) { return event.id }).indexOf(data);\n            \n            if (index >= 0) {\n                var event = _.options.calendarEvents[index];\n                // Remove event from calendar events\n                _.options.calendarEvents.splice(index, 1);\n                // remove to event list\n                _.removeEventList(data);\n                // remove event indicator\n                _.removeEventIndicator(event);\n            } else {\n                console.log(\"%c \"+data+\": ID not found \", \"color:white;font-weight:bold;background-color:#e21d1d;\");\n            }\n        }\n        if (arr instanceof Array) { // Arrays of index\n            for(var i=0; i < arr.length; i++) {\n                deleteEvent(arr[i])\n            }\n        } else { // Single index\n            deleteEvent(arr)\n        }\n    };\n\n    // v1.0.0 - Check if date is valid\n    EvoCalendar.prototype.isValidDate = function(d){\n        return new Date(d) && !isNaN(new Date(d).getTime());\n    }\n\n    $.fn.evoCalendar = function() {\n        var _ = this,\n            opt = arguments[0],\n            args = Array.prototype.slice.call(arguments, 1),\n            l = _.length,\n            i,\n            ret;\n        for (i = 0; i < l; i++) {\n            if (typeof opt == 'object' || typeof opt == 'undefined')\n                _[i].evoCalendar = new EvoCalendar(_[i], opt);\n            else\n                ret = _[i].evoCalendar[opt].apply(_[i].evoCalendar, args);\n            if (typeof ret != 'undefined') return ret;\n        }\n        return _;\n    };\n\n}));\n"]},"metadata":{},"sourceType":"module"}